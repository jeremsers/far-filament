---
import ServiceModal from "../components/ServiceModal.astro";
import { Image } from "astro:assets";
import discover from "../images/discover.jpg";
import premium from "../images/premium.png";
import single from "../images/indiv2.jpg";
import essence from "../images/essence.jpg";
// Vous pourrez remplacer ces images par des images spécifiques à chaque service
const discoveryImage = discover;
const singleImage = single;
const essenceImage = essence;
const premiumImage = premium;

const calendlyLink = "https://calendly.com/votre-lien";

const serviceModals = {
	discovery: {
		title: "Appel Découverte Gratuit",
		subtitle: "Premier pas vers votre transformation",
		duration: "30 minutes",
		price: "Gratuit",
		description:
			"Un appel découverte pour faire connaissance, comprendre vos besoins et objectifs, et vous expliquer ma méthode d'accompagnement.",
		features: [
			"Présentation de votre situation",
			"Identification de vos objectifs",
			"Explication de ma méthode",
			"Questions/réponses",
		],
		calendlyLink,
		image: discoveryImage,
	},
	single: {
		title: "Séance à la carte",
		subtitle: "Votre première étape vers le changement",
		duration: "1 heure",
		price: "130 CHF",
		description:
			"Une séance individuelle sur-mesure combinant PNL et hypnose pour travailler sur un objectif spécifique.",
		features: [
			"Séance individuelle sur-mesure",
			"Combinaison PNL et hypnose",
			"Outils concrets et applicables",
			"Objectifs personnalisés",
		],
		calendlyLink,
		image: singleImage,
	},
	essence: {
		title: 'Pack "Essence de Vie"',
		subtitle: "Osez Incarner qui vous êtes vraiment",
		duration: "8 séances sur 3 mois",
		price: "960 CHF",
		description:
			"Vous sentez que quelque chose manque dans votre vie, que vous n'êtes pas pleinement aligné avec vos aspirations profondes ? Ce pack est là pour vous accompagner dans un voyage intérieur puissant. Grâce à des outils de PNL et d'hypnose, vous allez découvrir la force intérieure qui sommeille en vous, dépasser vos croyances limitantes et rétablir une connexion profonde avec vos valeurs authentiques.",
		features: [
			"8 séances de coaching individuel personnalisées",
			"Outils puissants pour libérer vos blocages",
			"Approche actionnable pour incarner vos valeurs",
			"Révélation de vos valeurs profondes",
			"Libération des schémas limitants",
			"Création d'un plan d'action puissant",
			"Transformation durable et profonde",
		],
		conditions: [
			"Pack valable sur une période de 3 mois (Non remboursable)",
			"8 séances de coaching individuel (120 CHF par séance au lieu de 130 CHF)",
			"Engagement sur la durée du programme",
			"Ajustable selon votre progression",
		],
		benefits: [
			"Clarifiez ce qui compte vraiment pour vous",
			"Alignez vos actions avec vos valeurs",
			"Travaillez sur les croyances et les peurs qui vous empêchent d'avancer",
			"Mettez en place des stratégies concrètes pour réaliser vos rêves",
		],
		calendlyLink,
		image: essenceImage,
	},
	premium: {
		title: "Reconnexion à ton âme",
		subtitle: "Un voyage sacré vers toi-même",
		duration: "2h30",
		price: "333 CHF",
		description:
			"Il y a en toi une lumière, une vibration unique, une essence profonde qui ne demande qu'à être écoutée. Mais parfois, sous le poids des attentes, des doutes et des blessures, cette voix intérieure s'efface. Tu ressens alors un vide, un éloignement de toi-même, comme si quelque chose en toi appelait mais restait sans réponse. Et si tu t'accordais un moment pour te retrouver ?",
		features: [
			"Séance individuelle, uniquement en présentiel",
			"Dialogue authentique et questionnements puissants",
			"Outils de coaching PNL pour libérer vos blocages",
			"Méditation guidée pour une reconnexion intérieure",
		],
		conditions: [
			"Format : Séance individuelle, uniquement en présentiel",
			"Durée : 2h30",
		],
		benefits: [
			"Retrouver ton essence profonde",
			"Délester ce qui ne t'appartient plus",
			"Méditation guidée : l'appel de ton âme",
			"Sensation de clarté et de légèreté",
			"Reconnexion à ta voie intérieure",
		],
		calendlyLink,
		image: premiumImage,
		isPremium: true,
	},
};
---

<section class="section" id="services">
	<div class="section-header">
		<h2>Mes Accompagnements</h2>
		<p class="section-subtitle">
			Découvrez mes offres d'accompagnement personnalisé
		</p>
	</div>
	<div class="services-container">
		<div class="service-card">
			<div class="service-image">
				<Image
					src={discoveryImage}
					alt="Appel Découverte"
					width={300}
					height={200}
				/>
				<div class="image-overlay"></div>
			</div>
			<h3>Appel Découverte Gratuit</h3>
			<p class="subtitle">Premier pas vers votre transformation</p>
			<p class="duration">30 minutes</p>
			<ul>
				<li>Présentation de votre situation</li>
				<li>Identification de vos objectifs</li>
				<li>Explication de ma méthode</li>
				<li>Questions/réponses</li>
			</ul>
			<button class="cta-btn" data-modal="modal-discovery">En savoir plus</button>
		</div>

		<div class="service-card">
			<div class="service-image">
				<Image src={singleImage} alt="Séance unique" width={300} height={200} />
				<div class="image-overlay"></div>
			</div>
			<h3>Séance à la carte</h3>
			<p class="subtitle">Votre première étape vers le changement</p>
			<p class="duration">1 heure</p>
			<ul>
				<li>Séance individuelle sur-mesure</li>
				<li>Combinaison PNL et hypnose</li>
				<li>Outils concrets et applicables</li>
				<li>Objectifs personnalisés</li>
			</ul>
			<button class="cta-btn" data-modal="modal-single">En savoir plus</button>
		</div>

		<div class="service-card highlight">
			<div class="service-image">
				<Image
					src={essenceImage}
					alt="Pack Essence de Vie"
					width={300}
					height={200}
				/>
				<div class="image-overlay highlight-overlay"></div>
			</div>
			<h3>Pack "Essence de Vie"</h3>
			<p class="subtitle">Osez Incarner qui vous êtes vraiment</p>
			<p class="duration">8 séances sur 3 mois</p>
			<ul>
				<li>8 séances de coaching individuel personnalisées</li>
				<li>Outils PNL et hypnose pour libérer vos blocages</li>
				<li>Approche actionnable pour incarner vos valeurs</li>
				<li>Transformation durable et profonde</li>
			</ul>
			<button class="cta-btn" data-modal="modal-essence">En savoir plus</button>
		</div>

		<div class="service-card premium">
			<div class="service-image">
				<Image
					src={premiumImage}
					alt="Reconnexion à ton âme"
					width={300}
					height={200}
				/>
				<div class="image-overlay premium-overlay"></div>
				<div class="premium-badge">Premium</div>
			</div>
			<h3>Reconnexion à ton âme</h3>
			<p class="subtitle">Un voyage sacré vers toi-même</p>
			<p class="duration">2 heures 30 minutes</p>
			<ul>
				<li>Dialogue authentique et questionnements puissants</li>
				<li>Libération des blocages avec la PNL</li>
				<li>Méditation guidée pour une reconnexion intérieure</li>
				<li>Uniquement en présentiel</li>
			</ul>
			<button class="cta-btn" data-modal="modal-premium">En savoir plus</button>
		</div>
	</div>

	<!-- Service Modals -->
	<ServiceModal modalId="modal-discovery" {...serviceModals.discovery} />
	<ServiceModal modalId="modal-single" {...serviceModals.single} />
	<ServiceModal modalId="modal-essence" {...serviceModals.essence} />
	<ServiceModal modalId="modal-premium" {...serviceModals.premium} />
</section>

<style lang="scss">
	.section {
		display: flex;
		flex-direction: column;
		padding: 60px 20px;

		.section-header {
			text-align: center;
			margin-bottom: 50px;

			h2 {
				color: $text-color;
				font-size: clamp(1.5em, 5vw, 2.5em);
				margin-bottom: 15px;
				position: relative;
				display: inline-block;

				&:after {
					content: "";
					position: absolute;
					bottom: -10px;
					left: 50%;
					transform: translateX(-50%);
					width: 60px;
					height: 3px;
					background-color: $primary-color;
					border-radius: 2px;
				}
			}

			.section-subtitle {
				color: $text-light;
				font-size: clamp(1em, 3vw, 1.1em);
				max-width: 600px;
				margin: 0 auto;
			}
		}
	}

	.services-container {
		display: flex;
		justify-content: center;
		gap: 40px;
		margin-top: 30px;
		flex-wrap: wrap;
	}

	.service-card {
		background-color: $bg-light;
		padding: 25px;
		border-radius: $border-radius-lg;
		box-shadow: $shadow-md;
		width: 300px;
		text-align: center;
		transition:
			transform 0.3s ease,
			box-shadow 0.3s ease;
		display: grid;
		grid-template-rows: auto auto auto auto 1fr auto;
		gap: 15px;
		min-height: 600px;

		
		&:hover {
			transform: scale(1.05);
			box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
			img {
				transform: scale(1.1);
			}
	
			.image-overlay {
				transform: scale(1.1);
				height: 37%;
			}
		}
		
		.service-image {
			margin: -25px -25px 15px -25px;
			overflow: hidden;
			border-radius: $border-radius-lg $border-radius-lg 0 0;
			height: 180px;
			position: relative;
			
			
			.image-overlay {
				position: absolute;
				bottom: 0;
				left: 0;
				width: 100%;
				height: 27%;
				background: linear-gradient(to top, rgba($bg-light, 0.9), transparent);
				z-index: 1;
				transition: height 0.25s ease;
			}

			.highlight-overlay {
				background: linear-gradient(to top, rgba($bg-light, 0.9), transparent);
			}

			.premium-overlay {
				background: linear-gradient(
					to top,
					rgba(mix($bg-light, $primary-color, 90%), 0.9),
					transparent
				);
			}

			.premium-badge {
				position: absolute;
				top: 10px;
				left: 10px;
				background-color: $secondary-color;
				color: white;
				padding: 5px 10px;
				border-radius: $border-radius-sm;
				font-size: 0.8em;
				font-weight: bold;
				box-shadow: $shadow-sm;
				z-index: 2;
			}

			img {
				width: 100%;
				height: 100%;
				object-fit: cover;
				transition: transform 0.5s ease;
			}

			
		}

		h3 {
			color: $primary-color;
			font-size: 1.4em;
			line-height: 1.3;
			padding: 0 10px;
			display: flex;
			align-items: center;
			justify-content: center;
			margin: 0;
			min-height: 60px;
		}

		.subtitle {
			color: $text-light;
			font-size: 1.1em;
			font-style: italic;
			display: flex;
			align-items: center;
			justify-content: center;
			margin: 0;
			padding: 0 10px;
		}

		.duration {
			font-style: italic;
			color: $text-light;
			display: flex;
			align-items: center;
			justify-content: center;
			margin: 0;
			height: 60px;
		}

		.price {
			font-size: 1.2em;
			font-weight: bold;
			color: $secondary-color;
			display: flex;
			align-items: center;
			justify-content: center;
			margin: 0;
		}

		ul {
			list-style: none;
			padding: 0;
			margin: 0;
			text-align: left;

			li {
				margin: 12px 0;
				padding-left: 20px;
				position: relative;

				&:before {
					content: "✓";
					color: $secondary-color;
					position: absolute;
					left: 0;
				}
			}
		}

		.cta-btn {
			display: inline-block;
			padding: 12px 25px;
			background-color: $primary-color;
			color: white;
			border: none;
			border-radius: $border-radius-md;
			font-size: 1em;
			cursor: pointer;
			transition: background-color 0.3s ease;
			width: 80%;
			margin: 0 auto;

			&:hover {
				background-color: $hover-color;
				transform: scale(1.05);
			}
		}

		&.highlight {
			border: 2px solid $primary-color;
			transform: none;
			padding: 23px;

			.service-image {
				margin: -23px -23px 15px -23px;
			}

			&:hover {
				transform: scale(1.05);
			}
		}

		&.premium {
			background: linear-gradient(
				to bottom right,
				$bg-light,
				rgba($primary-color, 0.1)
			);
		}
	}

	@media (max-width: $mobile) {
		.section-header {
			h2 {
				font-size: 2em;
			}
		}

		.service-card {
			width: 100%;
			max-width: 350px;

			.service-image {
				height: 200px;
			}
		}
	}
</style>
